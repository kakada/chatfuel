.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "newSiteLabel", :role => "dialog", :tabindex => "-1", id: modal_id}
  .modal-dialog.modal-dialog-centered{:role => "document"}
    .modal-content
      = simple_form_for :variable, url: url, html: { class: 'choose-dictionary-form', remote: true } do |f|
        .modal-header
          .modal-title= t("dashboard.choose_dictionary_name_to_agg_gender")
          %button.close{"aria-label" => "Close", "data-dismiss" => "modal", :type => "button"}
            %span{"aria-hidden" => "true"} Ã—

        .modal-body
          = f.input :filter, label: false, class: "form-control variable-filter", placeholder: t("dashboard.type_search")

          #accordionExample.accordion
            - Variable.includes(:values).all.each do |variable|
              .card
                #headingOne.card-header.p-1
                  %h2.mb-0.pl-3
                    %button.pl-0.text-decoration-none.btn.btn-link{"aria-controls" => "collapseOne", "aria-expanded" => "true", "data-target" => "#collapse#{variable.name}", "data-toggle" => "collapse", :type => "button" }
                      = variable.name

                .collapse{ class: toggle_class_name("show", variable.criteria?), id: "collapse#{variable.name}", "aria-labelledby" => "headingOne", "data-parent" => "#accordionExample"}
                  .card-body
                    %ul.list-unstyled.value-list
                      - variable.values.reorder(:raw_value).each do |value|
                        %li
                          = radio_button_tag "variable_value[id]", value.id, value.criteria?, class: "align-baseline mr-2"
                          %label{ for: "variable_value_id_#{value.id}" }
                            = "#{value.raw_value} (#{value.mapping_value})"
        .modal-footer
          %button.btn.btn-secondary{"data-dismiss" => "modal", :type => "button"}
            = t("shared.cancel")
          = f.submit t("save_changes"), class: "btn btn-primary"
