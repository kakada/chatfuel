%h3 Dictionary

%div
  %ul.dict-list
    - @variables.select('name').distinct.each do |v|
      %li.dict-item{ 'data-name': v.name}
        = link_to v.name, '#'

  .result-map
    - @variables.select('name').distinct.each do |v|
      %table.table.d-none{ class: "dict-item-#{v.name}" }
        %tr
          %th Value
          %th Text
          %th Action
        - @variables.each do |sub|
          - if sub.name == v.name
            = form_with model: sub, url: dictionary_path(sub), method: :patch do |f|
              %tr
                %td= sub.value
                %td= f.text_field :text, name: 'variable[text]'
                %td= f.submit 'update'

.clearfix
