telegram
  bot {
      username: 
      token: 
    }

  group



send document to telegram
  issue filename must start with character
  timeout
dupl c bong sokly
  -> 

Telegram.bots[:do_report].send_document chat_id:-1001546781560, document: "http://860db6b208d2.ngrok.io/sites/0212/pdf_templates/1-dfsdfsdfssadfadsfsd/preview.pdf", timeout: 50000

. admin create BOT {:username,:token}
. admin create NEW GROUP for each site ( chat.id )
. admin add member BOT to EACH NEW GROUP
. admin promote BOT to send document to groups
. schedule send the report

TelegramBot.rb -> stand alone bot
Site -> one SiteSetting
SiteSetting <- m to m -> telegram_chat_groups

# send report
  bot = TelegramBot.find_by(username: "OWSO_stg_bot")
  client = Telegram::Bot::Client.new(bot.token, bot.username)
  client.set_webhook(url)

  

1. use the same bot
2. select group to notify
2. set schedule


postpone, design schedule and load dynamic,
  add ui
  validation
  test & write spec

continue 115
  update videos section
  115 section
  wip developer guide (some section removed)

update developer guide
  b kakada guide google data studio, playaround
  update layout iframes
investigate issue inconsistent filter other
demo & deploy


add new bot
config site 
  add telegram group to site ( bot is also a member )
create a schedule to broadcast report
  cron
  worker
worker
  loop from site setting
  send document of pdf template


what happen when:
  deploy new version or server restart?
  can disable worker( stop broad all ) or specific site?
  group id , while in telegram removed?


demo schedule notification
  update site setting
production deploy
fix outbreak about


enhancement ui cron
translation
refactor code
test & add spec
double check production data before demo b kk


deploy & demo
  -
  -
  -

b = TelegramBot.first
c = Telegram::Bot::Client.new(username: b.username, token: b.token)
c.get_webhook_info
g = TelegramChatGroup.first
document_url = 'https://733d96f88720.ngrok.io/sites/0212_kamrieng/pdf_templates/1_do_report/preview.pdf?v3'
document_url = 'https://733d96f88720.ngrok.io/sites/0212_kamrieng/pdf_templates/1_do_report/preview.pdf?v2'
c.send_document chat_id: '-561732575', document: document_url, timeout: 5000
c.send_document chat_id: g.chat_id, document: document_url, timeout: 5000

move pdf template in schedule
click to insert
check to config first


TelegramBot.destroy_all
Schedule.destroy_all
PdfTemplate.destroy_all
SiteSetting.destroy_all
TelegramChatGroup.destroy_all
